把 realsense 的坐标系装的夹爪的坐标系方向完全一致。

随便找到一个点并获取在 $p_{camera}$ 和

分析：


步骤如下：

1. 在夹爪的上方安装 Realsense D435i 深度相机，深度相机有螺孔的一面朝上，这样可以保持相机与夹爪的坐标系重合。

2. 布置场景：寻找一个桌子，令深度相机可以俯视桌面。

3. 记录此时夹爪的位姿 位置 $p_{\text{base}}^{\text{tool orgin}}=(x,y,z)$ 和姿态（固定角） $\alpha_{base}^{tool}=(\alpha_x,\alpha_y,\alpha_z)$，计算出 $_{\text{base}}^{\text{tool}}R$ 和 $__{\text{tool}}^{\text{base}}t$

4. 令深度相机获取桌面上一个物体的 3D 坐标 $p_{\text{camera}} = (x,y,z)$ 

5. 将夹爪移动至物体的位置，记录此时的坐标 $p_{\text{base}}^{\text{cube}} = (x,y,z)$ ，计算 $p_{\text{tool}}^{\text{cube}} = \left( R_{\text{base}}^{\text{tool}} \right)^T \cdot \left( p_{\text{base}}^{\text{cube}} - t_{\text{base}}^{\text{tool}} \right)$ 

6. 计算 $t_{\text{tool}}^{\text{camera}} = p_{\text{tool}}^{\text{cube}} - p_{\text{camera}}^{\text{cube}}$ 

7. 由于夹爪和深度相机的坐标是一致的，所以旋转矩阵是一个单位矩阵。  

    

应用：

获取 $p_{\text{camera}}^{\text{object}}$ ，变换为 $p_{\text{base}}^{\text{object}}$


$$
p_{\text{tool}}^{\text{object}} = 
R_{\text{tool}}^{\text{camera}} \cdot p_{\text{camera}}^{\text{object}} + t_{\text{tool}}^{\text{camera}} \\
p_{\text{base}}^{\text{object}} = 
R_{\text{base}}^{\text{tool}} \cdot p_{\text{tool}}^{\text{object}} + t_{\text{base}}^{\text{tool}}
$$


 
